<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circulatory System Adventure - IPAS Kelas 5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-red: #ef4444;
            --soft-blue: #e0f2fe;
            --deep-blue: #0369a1;
        }
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #fffafb;
        }
        h1, h2, h3 {
            font-family: 'Fredoka', sans-serif;
        }
        .bilingual-box {
            border-left: 4px solid var(--primary-red);
            padding-left: 1rem;
            margin-bottom: 1.5rem;
        }
        .translation {
            color: #64748b;
            font-style: italic;
            font-size: 0.95rem;
            margin-top: 0.25rem;
        }
        .hidden-section { display: none; }
        .active-btn { background-color: #ef4444 !important; color: white !important; }
        
        .option-btn {
            width: 100%;
            text-align: left;
            padding: 1rem;
            margin-bottom: 0.5rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            transition: all 0.2s;
        }
        .option-btn:hover:not(:disabled) {
            border-color: #ef4444;
            background-color: #fef2f2;
        }
        .correct { background-color: #dcfce7 !important; border-color: #22c55e !important; }
        .wrong { background-color: #fee2e2 !important; border-color: #ef4444 !important; }
        
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            background: #000;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .card-anatomy {
            background: white;
            padding: 1.5rem;
            border-radius: 1.25rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            border: 1px solid #fee2e2;
        }
    </style>
</head>
<body class="text-slate-800">

    <header class="bg-red-500 text-white py-10 px-4 text-center rounded-b-[3rem] shadow-lg">
        <h1 class="text-4xl md:text-5xl mb-2">The Circulatory System ‚ù§Ô∏è</h1>
        <p class="text-xl opacity-90">Sistem Peredaran Darah Manusia & Hewan</p>
    </header>

    <nav class="max-w-6xl mx-auto flex flex-wrap justify-center gap-3 p-6 -mt-8">
        <button onclick="openTab('intro')" class="nav-btn active-btn bg-white text-red-500 px-6 py-2 rounded-full shadow-md font-bold transition">Start</button>
        <button onclick="openTab('organs')" class="nav-btn bg-white text-red-500 px-6 py-2 rounded-full shadow-md font-bold transition">Anatomy</button>
        <button onclick="openTab('fish')" class="nav-btn bg-white text-red-500 px-6 py-2 rounded-full shadow-md font-bold transition">Fish Circulation</button>
        <button onclick="openTab('care')" class="nav-btn bg-white text-red-500 px-6 py-2 rounded-full shadow-md font-bold transition">Healthy Heart</button>
        <button onclick="startQuiz()" class="nav-btn bg-yellow-400 text-red-700 px-6 py-2 rounded-full shadow-md font-bold transition">QUIZ TIME!</button>
    </nav>

    <main class="max-w-4xl mx-auto p-6">

        <!-- Tab: Intro & Video -->
        <section id="intro" class="tab-content bg-white p-8 rounded-3xl shadow-sm border border-red-100">
            <h2 class="text-3xl text-red-600 mb-6 text-center">Let's Watch! / Ayo Menonton! üì∫</h2>
            
            <div class="video-container mb-10">
                <iframe 
                    src="https://www.youtube.com/embed/E6e67_oDGMU" 
                    title="Animasi Jantung 3D" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            </div>

            <div class="bilingual-box">
                <p class="text-lg">The heart is the size of your fist and is located in the left chest cavity.</p>
                <p class="translation">Jantung berukuran sebesar kepalan tangan dan terletak di rongga dada sebelah kiri.</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-4 mt-8">
                <div class="p-4 bg-red-50 rounded-xl border-l-4 border-red-400">
                    <h3 class="font-bold text-red-700">Heart Function</h3>
                    <p class="text-sm">Functions to pump blood throughout the body.</p>
                    <p class="translation text-xs">Berfungsi untuk memompa darah ke seluruh tubuh.</p>
                </div>
                <div class="p-4 bg-blue-50 rounded-xl border-l-4 border-blue-400">
                    <h3 class="font-bold text-blue-700">Heart Septum</h3>
                    <p class="text-sm">Prevents oxygen-rich blood and carbon dioxide-rich blood from mixing.</p>
                    <p class="translation text-xs">Sekat jantung mencegah bercampurnya darah kaya oksigen dan karbon dioksida.</p>
                </div>
            </div>
        </section>

        <!-- Tab: Anatomy (Updated from Video) -->
        <section id="organs" class="tab-content hidden-section space-y-8">
            <h2 class="text-3xl text-red-600 text-center">Heart Anatomy / Anatomi Jantung ü´Ä</h2>
            
            <div class="grid md:grid-cols-2 gap-6">
                <!-- 4 Chambers -->
                <div class="card-anatomy">
                    <h3 class="font-bold text-red-600 mb-4">4 Chambers (4 Ruang)</h3>
                    <ul class="space-y-3 text-sm">
                        <li class="flex justify-between border-b pb-1"><span>Right Atrium (Serambi Kanan)</span> <span class="text-slate-400 italic">Atrium Dexter</span></li>
                        <li class="flex justify-between border-b pb-1"><span>Right Ventricle (Bilik Kanan)</span> <span class="text-slate-400 italic">Ventricle Dexter</span></li>
                        <li class="flex justify-between border-b pb-1"><span>Left Atrium (Serambi Kiri)</span> <span class="text-slate-400 italic">Atrium Sinister</span></li>
                        <li class="flex justify-between pb-1"><span>Left Ventricle (Bilik Kiri)</span> <span class="text-slate-400 italic">Ventricle Sinister</span></li>
                    </ul>
                </div>

                <!-- 4 Valves -->
                <div class="card-anatomy">
                    <h3 class="font-bold text-blue-600 mb-4">4 Valves (4 Katup)</h3>
                    <p class="text-xs mb-3 italic">Valves regulate blood flow inside the heart.</p>
                    <div class="grid grid-cols-2 gap-2 text-[11px] font-bold">
                        <div class="bg-blue-50 p-2 rounded">Trikuspidalis</div>
                        <div class="bg-blue-50 p-2 rounded">Bikuspidalis</div>
                        <div class="bg-blue-50 p-2 rounded">Pulmonalis</div>
                        <div class="bg-blue-50 p-2 rounded">Aorta</div>
                    </div>
                </div>
            </div>

            <!-- Blood Vessels from Video -->
            <div class="bg-white p-8 rounded-3xl shadow-sm border border-red-100">
                <h3 class="text-xl font-bold mb-4">Main Blood Vessels (Pembuluh Darah Utama)</h3>
                <div class="space-y-4">
                    <div class="flex gap-4 items-start">
                        <div class="bg-red-500 text-white p-2 rounded-lg font-bold">Aorta</div>
                        <div>
                            <p class="text-sm font-semibold">The largest artery connected directly to the heart.</p>
                            <p class="translation text-xs">Arteri terbesar yang langsung terhubung dengan jantung.</p>
                        </div>
                    </div>
                    <div class="flex gap-4 items-start">
                        <div class="bg-blue-500 text-white p-2 rounded-lg font-bold shrink-0">Vena Cava</div>
                        <div>
                            <p class="text-sm font-semibold">Brings "dirty" blood (rich in CO2) from the body to the right atrium.</p>
                            <p class="translation text-xs">Membawa darah kotor dari tubuh menuju serambi kanan.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tab: Fish Circulation -->
        <section id="fish" class="tab-content hidden-section bg-white p-8 rounded-3xl shadow-sm border border-blue-100">
            <h2 class="text-3xl text-blue-600 mb-6 text-center">Fish Circulation / Peredaran Darah Ikan üêü</h2>
            <div class="bg-blue-50 p-6 rounded-2xl mb-6">
                <div class="bilingual-box border-blue-600">
                    <p class="text-lg font-semibold">Fish have a two-chambered heart: one atrium and one ventricle.</p>
                    <p class="translation">Ikan memiliki jantung dua ruang: satu serambi dan satu bilik.</p>
                </div>
                <p class="text-sm mt-4">Unlike humans (4 chambers), fish blood only passes through the heart once in each complete circuit.</p>
            </div>
            <div class="text-center p-6 bg-white rounded-3xl border border-blue-100">
                <div class="text-5xl mb-2">üåä</div>
                <p class="font-bold">Heart ‚Üí Gills (Insang) ‚Üí Body ‚Üí Heart</p>
            </div>
        </section>

        <!-- Tab: Healthy Heart -->
        <section id="care" class="tab-content hidden-section space-y-6">
            <div class="bg-green-500 text-white p-8 rounded-3xl shadow-lg">
                <h2 class="text-3xl mb-4">Healthy Habits / Kebiasaan Sehat üèÉ‚Äç‚ôÇÔ∏è</h2>
                <div class="grid md:grid-cols-3 gap-4 text-center">
                    <div class="bg-white/20 p-4 rounded-xl">
                        <div class="text-3xl">ü•¶</div>
                        <p class="text-xs mt-2 font-bold">Healthy Diet</p>
                    </div>
                    <div class="bg-white/20 p-4 rounded-xl">
                        <div class="text-3xl">üö¥</div>
                        <p class="text-xs mt-2 font-bold">Exercise</p>
                    </div>
                    <div class="bg-white/20 p-4 rounded-xl">
                        <div class="text-3xl">‚öñÔ∏è</div>
                        <p class="text-xs mt-2 font-bold">Ideal Weight</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tab: Quiz -->
        <section id="quiz" class="tab-content hidden-section bg-white p-8 rounded-3xl shadow-xl border-4 border-yellow-200">
            <div id="quiz-intro" class="text-center">
                <h2 class="text-4xl text-yellow-600 mb-4">Are You Ready? üß†</h2>
                <p class="mb-8">Test your knowledge based on the 3D Animation Video!</p>
                <button onclick="runQuiz()" class="bg-yellow-400 text-yellow-900 px-10 py-4 rounded-full font-bold text-xl shadow-lg hover:scale-105 transition">START NOW!</button>
            </div>

            <div id="quiz-play" class="hidden">
                <div class="flex justify-between items-center mb-6">
                    <span id="quiz-progress" class="bg-yellow-100 text-yellow-700 px-4 py-1 rounded-full font-bold">Question 1/10</span>
                    <span id="quiz-score" class="font-bold text-green-600">Score: 0</span>
                </div>
                <div id="question-text" class="text-xl font-bold mb-6 min-h-[60px]">Loading...</div>
                <div id="options-box" class="space-y-3"></div>
                <div id="quiz-feedback" class="mt-6 text-center font-bold text-lg h-8"></div>
            </div>

            <div id="quiz-result" class="hidden text-center">
                <h2 class="text-4xl text-purple-600 mb-4">Game Over! üèÜ</h2>
                <div class="text-6xl font-bold mb-4" id="final-score">0/10</div>
                <p id="result-text" class="text-xl mb-8 font-semibold"></p>
                <button onclick="startQuiz()" class="bg-purple-500 text-white px-8 py-3 rounded-full font-bold">Try Again</button>
            </div>
        </section>

    </main>

    <footer class="text-center p-10 text-slate-400">
        <p>¬© 2024 IPAS Edu-Portal | Based on 3D Heart Animation Video</p>
    </footer>

    <script>
        function openTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden-section'));
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active-btn'));
            document.getElementById(tabId).classList.remove('hidden-section');
            if (event) event.currentTarget.classList.add('active-btn');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        const quizData = [
            { q: "How many chambers (ruang) does the human heart have?", a: "4", o: ["2", "3", "4", "5"] },
            { q: "What is the name of the upper chambers of the heart?", a: "Atria", o: ["Ventricles", "Atria", "Aorta", "Valves"] },
            { q: "What is the largest artery directly connected to the heart?", a: "Aorta", o: ["Vena Cava", "Pulmonary Artery", "Aorta", "Capillary"] },
            { q: "Which part of the heart prevents oxygen-rich and CO2-rich blood from mixing?", a: "Septum (Sekat)", o: ["Valve", "Septum (Sekat)", "Atrium", "Ventricle"] },
            { q: "How many valves (katup) are there in the human heart?", a: "4", o: ["2", "3", "4", "6"] },
            { q: "Where does the 'dirty' blood from the body go first?", a: "Right Atrium", o: ["Right Atrium", "Left Atrium", "Right Ventricle", "Left Ventricle"] },
            { q: "Which chamber pumps clean blood (rich in oxygen) to the whole body?", a: "Left Ventricle", o: ["Right Atrium", "Left Atrium", "Right Ventricle", "Left Ventricle"] },
            { q: "The size of a human heart is about the same as...?", a: "A fist", o: ["A bean", "A fist", "A football", "A thumb"] },
            { q: "What is the name of the valve between the atrium and ventricle?", a: "Trikuspidalis", o: ["Trikuspidalis", "Aorta", "Vena", "Arteri"] },
            { q: "Which animal has only 2 heart chambers?", a: "Fish", o: ["Human", "Bird", "Fish", "Crocodile"] }
        ];

        let currentQuestion = 0;
        let score = 0;

        function startQuiz() {
            openTab('quiz');
            document.getElementById('quiz-intro').classList.remove('hidden');
            document.getElementById('quiz-play').classList.add('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
        }

        function runQuiz() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('quiz-intro').classList.add('hidden');
            document.getElementById('quiz-play').classList.remove('hidden');
            updateScore();
            showQuestion();
        }

        function showQuestion() {
            const q = quizData[currentQuestion];
            document.getElementById('quiz-progress').innerText = `Question ${currentQuestion + 1}/${quizData.length}`;
            document.getElementById('question-text').innerText = q.q;
            document.getElementById('quiz-feedback').innerText = "";
            const box = document.getElementById('options-box');
            box.innerHTML = "";
            q.o.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "option-btn font-semibold text-slate-700 bg-white";
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(opt, btn);
                box.appendChild(btn);
            });
        }

        function checkAnswer(choice, btn) {
            const correct = quizData[currentQuestion].a;
            const feedback = document.getElementById('quiz-feedback');
            document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);
            if (choice === correct) {
                score++;
                btn.classList.add('correct');
                feedback.innerText = "CORRECT! üåü";
                feedback.className = "mt-6 text-center font-bold text-lg h-8 text-green-500 animate-bounce";
            } else {
                btn.classList.add('wrong');
                feedback.innerText = "Oops! Check the video again! üì∫";
                feedback.className = "mt-6 text-center font-bold text-lg h-8 text-red-500";
                document.querySelectorAll('.option-btn').forEach(b => {
                    if (b.innerText === correct) b.classList.add('correct');
                });
            }
            updateScore();
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < quizData.length) showQuestion();
                else finishQuiz();
            }, 2000);
        }

        function updateScore() {
            document.getElementById('quiz-score').innerText = `Score: ${score}`;
        }

        function finishQuiz() {
            document.getElementById('quiz-play').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            document.getElementById('final-score').innerText = `${score}/${quizData.length}`;
            const resultText = document.getElementById('result-text');
            if (score === 10) resultText.innerText = "Cardiovascular Expert! Perfect Score! üèÜ";
            else if (score >= 7) resultText.innerText = "Well done! You paid great attention! ‚ú®";
            else resultText.innerText = "Try watching the animation once more! üßê";
        }
    </script>
</body>
</html>


